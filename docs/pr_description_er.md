## 概要
学生アルバイト勤怠管理システム「楽工」のER図を作成しました。
READMEに記載したMVP機能をすべて実装できるよう、正規化を考慮したテーブル設計を行っています。

### ER図
（ER図のスクリーンショット画像をここに貼付）

### 本サービスの概要（700文字以内）
現在、弊社では学生アルバイトの勤怠管理を手作業（スプレッドシート）で行っているため、週20時間制限チェック、掛け持ちバイトとの合計管理、承認フローなどで多大な工数とヒューマンエラーが発生している。既存の勤怠システム（ラクロー）では対応できない学生特有の労働制約を自動管理し、手作業を削減して正確性と効率性を向上させるWebアプリケーション。

主な特徴：①部署承認ワークフロー（部署担当者による承認）②労働時間制限の自動チェック（週20h制限・掛け持ち合計40h制限）③外部システム連携（ジョブカン・ラクロー）④3つの権限レベル管理（学生・部署担当者・システム管理者）⑤AASM状態管理による承認フロー制御。社内試験運用から始め、成功すれば全社展開を目指すRails・Vue.js学習を兼ねた実践的開発。

### MVPで実装する予定の機能
#### 🔑 コア機能
- [x] Google Workspace SSO連携
- [x] 部署・役職・権限管理（3つの権限レベル）
- [x] 新規ユーザ承認ワークフロー
- [x] 管理者による部署・権限設定

#### シフト管理
- [x] 月次シフト希望提出フォーム
- [x] 掛け持ちバイト情報登録
- [x] 自動制限チェック（週20h/掛け持ち合計40h）
- [x] 制限違反時のアラート表示

#### 勤怠管理
- [x] 日次出退勤・休憩時間登録
- [x] 6時間以上勤務時の休憩時間自動計算
- [x] 欠勤・遅刻・早退申請機能
- [x] 月末締め作業（チェックリスト）

#### 承認ワークフロー
- [x] 部署承認ワークフロー（部署担当者による承認）
- [x] 部署承認状況の可視化
- [x] シフト承認機能（承認不要、制限チェックのみ）
- [x] 勤怠承認機能
- [x] 月末締め承認機能

#### システム管理機能
- [x] 管理者ダッシュボード（承認待ちユーザ、利用統計）
- [x] ユーザ管理（新規ユーザ承認、権限設定、部署割り当て）
- [x] 部署管理（部署作成・編集・削除、担当者設定）
- [x] 新規ユーザ向け承認待ち画面

#### 外部システム対応
- [x] ラクロー連携（遷移リンク・チェックリスト提供）
- [x] ジョブカン連携（遷移リンク・申請ガイド表示）

#### 通知・リマインダー機能
- [x] 承認リマインダー通知
- [x] 制限違反警告通知
- [x] 締切前通知機能

### ER図の注意点
- [x] プルリクエストに最新のER図のスクリーンショットを画像が表示される形で掲載できているか？
- [x] テーブル名は複数形になっているか？
- [x] カラムの型は記載されているか？
- [x] 外部キーは適切に設けられているか？
- [x] リレーションは適切に描かれているか？多対多の関係は存在しないか？
- [x] STIは使用しないER図になっているか？
- [x] Postsテーブルにpost_nameのように"テーブル名+カラム名"を付けていないか？

### 特徴的な設計ポイント
1. **正規化**: 第3正規形に準拠し、データの冗長性を排除
2. **承認ワークフロー**: ポリモーフィックapprovalsテーブルで部署担当者による承認を管理
3. **労働時間制限チェック**: 日次掛け持ち時間登録と週次集計による制限違反検知
4. **外部システム連携**: month_end_closingsテーブルでジョブカン・ラクローの状況管理
5. **通知システム**: notificationsテーブルでリマインダー・警告の一元管理
6. **状態管理**: AASM対応のstatusカラムで承認フローを制御
7. **権限管理システム**: user_rolesテーブルで権限管理（各ユーザーは単一ロールのみ保持）